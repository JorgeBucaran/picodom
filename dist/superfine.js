!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).superfine={})}(this,function(e){"use strict";var n={},o=[],r=o.map,l=Array.isArray,t=function(e){this.handlers[e.type](e)},u=function(e,n,o,r,l){"key"===n||("o"===n[0]&&"n"===n[1]?((e.handlers||(e.handlers={}))[n=n.slice(2).toLowerCase()]=r)?o||e.addEventListener(n,t):e.removeEventListener(n,t):!l&&"list"!==n&&n in e?e[n]=null==r?"":r:null==r||!1===r?e.removeAttribute(n):e.setAttribute(n,r))},i=function(e,n){var o=3===e.type?document.createTextNode(e.name):(n=n||"svg"===e.name)?document.createElementNS("http://www.w3.org/2000/svg",e.name):document.createElement(e.name),r=e.props;for(var l in r)u(o,l,null,r[l],n);for(var t=0,d=e.children.length;t<d;t++)o.appendChild(i(e.children[t],n));return e.node=o},d=function(e){return null==e?null:e.key},f=function(e,n,o,r,l){if(o===r);else if(null!=o&&3===o.type&&3===r.type)o.name!==r.name&&(n.nodeValue=r.name);else if(null==o||o.name!==r.name)n=e.insertBefore(i(r,l),n),null!=o&&e.removeChild(o.node);else{var t,a,s,c,p=o.props,h=r.props,m=o.children,v=r.children,y=0,g=0,C=m.length-1,k=v.length-1;for(var w in l=l||"svg"===r.name,function(e,n){var o={};for(var r in e)o[r]=e[r];for(var r in n)o[r]=n[r];return o}(p,h))("value"===w||"selected"===w||"checked"===w?n[w]:p[w])!==h[w]&&u(n,w,p[w],h[w],l);for(;g<=k&&y<=C&&null!=(s=d(m[y]))&&s===d(v[g]);)f(n,m[y].node,m[y++],v[g++],l);for(;g<=k&&y<=C&&null!=(s=d(m[C]))&&s===d(v[k]);)f(n,m[C].node,m[C--],v[k--],l);if(y>C)for(;g<=k;)n.insertBefore(i(v[g++],l),(a=m[y])&&a.node);else if(g>k)for(;y<=C;)n.removeChild(m[y++].node);else{w=y;for(var N={},b={};w<=C;w++)null!=(s=m[w].key)&&(N[s]=m[w]);for(;g<=k;)s=d(a=m[y]),c=d(v[g]),b[s]||null!=c&&c===d(m[y+1])?(null==s&&n.removeChild(a.node),y++):null==c||1===o.type?(null==s&&(f(n,a&&a.node,a,v[g],l),g++),y++):(s===c?(f(n,a.node,a,v[g],l),b[c]=!0,y++):null!=(t=N[c])?(f(n,n.insertBefore(t.node,a&&a.node),t,v[g],l),b[c]=!0):f(n,a&&a.node,null,v[g],l),g++);for(;y<=C;)null==d(a=m[y++])&&n.removeChild(a.node);for(var w in N)null==b[w]&&n.removeChild(N[w].node)}}return r.node=n},a=function(e,n,o,r,l,t){return{name:e,props:n,children:o,node:r,type:t,key:l}},s=function(e,r){return a(e,n,o,r,null,3)},c=function(e){return 3===e.nodeType?s(e.nodeValue,e):a(e.nodeName.toLowerCase(),n,r.call(e.childNodes,c),e,null,1)};e.h=function(e,o){for(var r,t=[],u=[],i=arguments.length;i-- >2;)t.push(arguments[i]);for(;t.length>0;)if(l(r=t.pop()))for(i=r.length;i-- >0;)t.push(r[i]);else!1===r||!0===r||null==r||u.push("object"==typeof r?r:s(r));return o=o||n,"function"==typeof e?e(o,u):a(e,o,u,null,o.key)},e.patch=function(e,n){return(e=f(e.parentNode,e,e.vdom||c(e),n)).vdom=n,e}});
//# sourceMappingURL=superfine.js.map